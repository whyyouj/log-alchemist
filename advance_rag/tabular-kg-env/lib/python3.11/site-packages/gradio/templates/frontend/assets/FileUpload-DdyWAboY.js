import"./Index-CdNwo3lV.js";import{B as _e}from"./BlockLabel-nqmpr3Sz.js";import{E as de}from"./Empty-DpKdHCs0.js";import{F as ee}from"./File-BQ_9P3Ye.js";import{U as we}from"./ModifyUpload.svelte_svelte_type_style_lang-Du0s1Wxv.js";import{M as ke}from"./ModifyUpload-C4DNJwS2.js";import{D as pe}from"./DownloadLink-DaQPcWCF.js";const te=l=>{let e=["B","KB","MB","GB","PB"],n=0;for(;l>1024;)l/=1024,n++;let t=e[n];return l.toFixed(1)+"&nbsp;"+t},{HtmlTag:ve,SvelteComponent:$e,append:d,attr:w,check_outros:ce,create_component:ze,destroy_component:qe,destroy_each:ye,detach:I,element:$,ensure_array_like:le,flush:G,group_outros:he,init:Fe,insert:M,listen:X,mount_component:Be,noop:ne,run_all:Ae,safe_not_equal:Ce,set_data:Y,set_style:ie,space:H,text:K,toggle_class:se,transition_in:C,transition_out:U}=window.__gradio__svelte__internal,{createEventDispatcher:Ee}=window.__gradio__svelte__internal;function oe(l,e,n){const t=l.slice();return t[10]=e[n],t[12]=n,t}function De(l){let e=l[2]("file.uploading")+"",n;return{c(){n=K(e)},m(t,i){M(t,n,i)},p(t,i){i&4&&e!==(e=t[2]("file.uploading")+"")&&Y(n,e)},i:ne,o:ne,d(t){t&&I(n)}}}function Se(l){let e,n;return e=new pe({props:{href:l[10].url,download:window.__is_colab__?null:l[10].orig_name,$$slots:{default:[Ue]},$$scope:{ctx:l}}}),{c(){ze(e.$$.fragment)},m(t,i){Be(e,t,i),n=!0},p(t,i){const s={};i&8&&(s.href=t[10].url),i&8&&(s.download=window.__is_colab__?null:t[10].orig_name),i&8200&&(s.$$scope={dirty:i,ctx:t}),e.$set(s)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){qe(e,t)}}}function Ue(l){let e,n=(l[10].size!=null?te(l[10].size):"(size unknown)")+"",t;return{c(){e=new ve(!1),t=K(" ⇣"),e.a=t},m(i,s){e.m(n,i,s),M(i,t,s)},p(i,s){s&8&&n!==(n=(i[10].size!=null?te(i[10].size):"(size unknown)")+"")&&e.p(n)},d(i){i&&(e.d(),I(t))}}}function ae(l){let e,n,t,i;function s(){return l[7](l[12])}function o(..._){return l[8](l[12],..._)}return{c(){e=$("td"),n=$("button"),n.textContent="×",w(n,"class","label-clear-button svelte-18wv37q"),w(n,"aria-label","Remove this file"),w(e,"class","svelte-18wv37q")},m(_,a){M(_,e,a),d(e,n),t||(i=[X(n,"click",s),X(n,"keydown",o)],t=!0)},p(_,a){l=_},d(_){_&&I(e),t=!1,Ae(i)}}}function re(l){let e,n,t,i=l[10].filename_stem+"",s,o,_,a=l[10].filename_ext+"",h,u,r,m,c,g,B,S,b,q,P;const L=[Se,De],k=[];function N(z,p){return z[10].url?0:1}c=N(l),g=k[c]=L[c](l);let f=l[3].length>1&&ae(l);function be(){return l[9](l[10],l[12])}return{c(){e=$("tr"),n=$("td"),t=$("span"),s=K(i),o=H(),_=$("span"),h=K(a),r=H(),m=$("td"),g.c(),B=H(),f&&f.c(),S=H(),w(t,"class","stem svelte-18wv37q"),w(_,"class","ext svelte-18wv37q"),w(n,"class","filename svelte-18wv37q"),w(n,"aria-label",u=l[10].orig_name),w(m,"class","download svelte-18wv37q"),w(e,"class","file svelte-18wv37q"),se(e,"selectable",l[0])},m(z,p){M(z,e,p),d(e,n),d(n,t),d(t,s),d(n,o),d(n,_),d(_,h),d(e,r),d(e,m),k[c].m(m,null),d(e,B),f&&f.m(e,null),d(e,S),b=!0,q||(P=X(e,"click",be),q=!0)},p(z,p){l=z,(!b||p&8)&&i!==(i=l[10].filename_stem+"")&&Y(s,i),(!b||p&8)&&a!==(a=l[10].filename_ext+"")&&Y(h,a),(!b||p&8&&u!==(u=l[10].orig_name))&&w(n,"aria-label",u);let V=c;c=N(l),c===V?k[c].p(l,p):(he(),U(k[V],1,1,()=>{k[V]=null}),ce(),g=k[c],g?g.p(l,p):(g=k[c]=L[c](l),g.c()),C(g,1),g.m(m,null)),l[3].length>1?f?f.p(l,p):(f=ae(l),f.c(),f.m(e,S)):f&&(f.d(1),f=null),(!b||p&1)&&se(e,"selectable",l[0])},i(z){b||(C(g),b=!0)},o(z){U(g),b=!1},d(z){z&&I(e),k[c].d(),f&&f.d(),q=!1,P()}}}function Ie(l){let e,n,t,i,s=le(l[3]),o=[];for(let a=0;a<s.length;a+=1)o[a]=re(oe(l,s,a));const _=a=>U(o[a],1,1,()=>{o[a]=null});return{c(){e=$("div"),n=$("table"),t=$("tbody");for(let a=0;a<o.length;a+=1)o[a].c();w(t,"class","svelte-18wv37q"),w(n,"class","file-preview svelte-18wv37q"),w(e,"class","file-preview-holder svelte-18wv37q"),ie(e,"max-height",typeof l[1]===void 0?"auto":l[1]+"px")},m(a,h){M(a,e,h),d(e,n),d(n,t);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null);i=!0},p(a,[h]){if(h&61){s=le(a[3]);let u;for(u=0;u<s.length;u+=1){const r=oe(a,s,u);o[u]?(o[u].p(r,h),C(o[u],1)):(o[u]=re(r),o[u].c(),C(o[u],1),o[u].m(t,null))}for(he(),u=s.length;u<o.length;u+=1)_(u);ce()}(!i||h&2)&&ie(e,"max-height",typeof a[1]===void 0?"auto":a[1]+"px")},i(a){if(!i){for(let h=0;h<s.length;h+=1)C(o[h]);i=!0}},o(a){o=o.filter(Boolean);for(let h=0;h<o.length;h+=1)U(o[h]);i=!1},d(a){a&&I(e),ye(o,a)}}}function Me(l){const e=l.lastIndexOf(".");return e===-1?[l,""]:[l.slice(0,e),l.slice(e)]}function Pe(l,e,n){let t;const i=Ee();let{value:s}=e,{selectable:o=!1}=e,{height:_=void 0}=e,{i18n:a}=e;function h(c){t.splice(c,1),n(3,t=[...t]),n(6,s=t),i("change",t)}const u=c=>h(c),r=(c,g)=>{g.key==="Enter"&&h(c)},m=(c,g)=>i("select",{value:c.orig_name,index:g});return l.$$set=c=>{"value"in c&&n(6,s=c.value),"selectable"in c&&n(0,o=c.selectable),"height"in c&&n(1,_=c.height),"i18n"in c&&n(2,a=c.i18n)},l.$$.update=()=>{l.$$.dirty&64&&n(3,t=(Array.isArray(s)?s:[s]).map(c=>{const[g,B]=Me(c.orig_name??"");return{...c,filename_stem:g,filename_ext:B}}))},[o,_,a,t,i,h,s,u,r,m]}class Le extends $e{constructor(e){super(),Fe(this,e,Pe,Ie,Ce,{value:6,selectable:0,height:1,i18n:2})}get value(){return this.$$.ctx[6]}set value(e){this.$$set({value:e}),G()}get selectable(){return this.$$.ctx[0]}set selectable(e){this.$$set({selectable:e}),G()}get height(){return this.$$.ctx[1]}set height(e){this.$$set({height:e}),G()}get i18n(){return this.$$.ctx[2]}set i18n(e){this.$$set({i18n:e}),G()}}const me=Le,{SvelteComponent:Ne,bubble:Ge,check_outros:He,create_component:j,destroy_component:J,detach:ue,empty:Ke,flush:A,group_outros:Oe,init:Re,insert:fe,mount_component:Q,safe_not_equal:Te,space:je,transition_in:E,transition_out:D}=window.__gradio__svelte__internal;function Je(l){let e,n;return e=new de({props:{unpadded_box:!0,size:"large",$$slots:{default:[Ve]},$$scope:{ctx:l}}}),{c(){j(e.$$.fragment)},m(t,i){Q(e,t,i),n=!0},p(t,i){const s={};i&128&&(s.$$scope={dirty:i,ctx:t}),e.$set(s)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function Qe(l){let e,n;return e=new me({props:{i18n:l[5],selectable:l[3],value:l[0],height:l[4]}}),e.$on("select",l[6]),{c(){j(e.$$.fragment)},m(t,i){Q(e,t,i),n=!0},p(t,i){const s={};i&32&&(s.i18n=t[5]),i&8&&(s.selectable=t[3]),i&1&&(s.value=t[0]),i&16&&(s.height=t[4]),e.$set(s)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function Ve(l){let e,n;return e=new ee({}),{c(){j(e.$$.fragment)},m(t,i){Q(e,t,i),n=!0},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function We(l){let e,n,t,i,s,o,_;e=new _e({props:{show_label:l[2],float:l[0]===null,Icon:ee,label:l[1]||"File"}});const a=[Qe,Je],h=[];function u(r,m){return m&1&&(t=null),t==null&&(t=!!(r[0]&&(!Array.isArray(r[0])||r[0].length>0))),t?0:1}return i=u(l,-1),s=h[i]=a[i](l),{c(){j(e.$$.fragment),n=je(),s.c(),o=Ke()},m(r,m){Q(e,r,m),fe(r,n,m),h[i].m(r,m),fe(r,o,m),_=!0},p(r,[m]){const c={};m&4&&(c.show_label=r[2]),m&1&&(c.float=r[0]===null),m&2&&(c.label=r[1]||"File"),e.$set(c);let g=i;i=u(r,m),i===g?h[i].p(r,m):(Oe(),D(h[g],1,1,()=>{h[g]=null}),He(),s=h[i],s?s.p(r,m):(s=h[i]=a[i](r),s.c()),E(s,1),s.m(o.parentNode,o))},i(r){_||(E(e.$$.fragment,r),E(s),_=!0)},o(r){D(e.$$.fragment,r),D(s),_=!1},d(r){r&&(ue(n),ue(o)),J(e,r),h[i].d(r)}}}function Xe(l,e,n){let{value:t=null}=e,{label:i}=e,{show_label:s=!0}=e,{selectable:o=!1}=e,{height:_=void 0}=e,{i18n:a}=e;function h(u){Ge.call(this,l,u)}return l.$$set=u=>{"value"in u&&n(0,t=u.value),"label"in u&&n(1,i=u.label),"show_label"in u&&n(2,s=u.show_label),"selectable"in u&&n(3,o=u.selectable),"height"in u&&n(4,_=u.height),"i18n"in u&&n(5,a=u.i18n)},[t,i,s,o,_,a,h]}class Ye extends Ne{constructor(e){super(),Re(this,e,Xe,We,Te,{value:0,label:1,show_label:2,selectable:3,height:4,i18n:5})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),A()}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),A()}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),A()}get selectable(){return this.$$.ctx[3]}set selectable(e){this.$$set({selectable:e}),A()}get height(){return this.$$.ctx[4]}set height(e){this.$$set({height:e}),A()}get i18n(){return this.$$.ctx[5]}set i18n(e){this.$$set({i18n:e}),A()}}const Ft=Ye,{SvelteComponent:Ze,add_flush_callback:xe,bind:et,binding_callbacks:tt,bubble:W,check_outros:lt,create_component:O,create_slot:nt,destroy_component:R,detach:Z,empty:it,flush:v,get_all_dirty_from_scope:st,get_slot_changes:ot,group_outros:at,init:rt,insert:x,mount_component:T,safe_not_equal:ut,space:ge,transition_in:y,transition_out:F,update_slot_base:ft}=window.__gradio__svelte__internal,{createEventDispatcher:_t,tick:ct}=window.__gradio__svelte__internal;function ht(l){let e,n,t;function i(o){l[16](o)}let s={filetype:l[4],file_count:l[3],max_file_size:l[9],root:l[6],$$slots:{default:[gt]},$$scope:{ctx:l}};return l[10]!==void 0&&(s.dragging=l[10]),e=new we({props:s}),tt.push(()=>et(e,"dragging",i)),e.$on("load",l[11]),e.$on("error",l[17]),{c(){O(e.$$.fragment)},m(o,_){T(e,o,_),t=!0},p(o,_){const a={};_&16&&(a.filetype=o[4]),_&8&&(a.file_count=o[3]),_&512&&(a.max_file_size=o[9]),_&64&&(a.root=o[6]),_&262144&&(a.$$scope={dirty:_,ctx:o}),!n&&_&1024&&(n=!0,a.dragging=o[10],xe(()=>n=!1)),e.$set(a)},i(o){t||(y(e.$$.fragment,o),t=!0)},o(o){F(e.$$.fragment,o),t=!1},d(o){R(e,o)}}}function mt(l){let e,n,t,i;return e=new ke({props:{i18n:l[8],absolute:!0}}),e.$on("clear",l[12]),t=new me({props:{i18n:l[8],selectable:l[5],value:l[0],height:l[7]}}),t.$on("select",l[14]),t.$on("change",l[15]),{c(){O(e.$$.fragment),n=ge(),O(t.$$.fragment)},m(s,o){T(e,s,o),x(s,n,o),T(t,s,o),i=!0},p(s,o){const _={};o&256&&(_.i18n=s[8]),e.$set(_);const a={};o&256&&(a.i18n=s[8]),o&32&&(a.selectable=s[5]),o&1&&(a.value=s[0]),o&128&&(a.height=s[7]),t.$set(a)},i(s){i||(y(e.$$.fragment,s),y(t.$$.fragment,s),i=!0)},o(s){F(e.$$.fragment,s),F(t.$$.fragment,s),i=!1},d(s){s&&Z(n),R(e,s),R(t,s)}}}function gt(l){let e;const n=l[13].default,t=nt(n,l,l[18],null);return{c(){t&&t.c()},m(i,s){t&&t.m(i,s),e=!0},p(i,s){t&&t.p&&(!e||s&262144)&&ft(t,n,i,i[18],e?ot(n,i[18],s,null):st(i[18]),null)},i(i){e||(y(t,i),e=!0)},o(i){F(t,i),e=!1},d(i){t&&t.d(i)}}}function bt(l){let e,n,t,i,s,o,_;e=new _e({props:{show_label:l[2],Icon:ee,float:l[0]===null,label:l[1]||"File"}});const a=[mt,ht],h=[];function u(r,m){return m&1&&(t=null),t==null&&(t=!!(r[0]&&(!Array.isArray(r[0])||r[0].length>0))),t?0:1}return i=u(l,-1),s=h[i]=a[i](l),{c(){O(e.$$.fragment),n=ge(),s.c(),o=it()},m(r,m){T(e,r,m),x(r,n,m),h[i].m(r,m),x(r,o,m),_=!0},p(r,[m]){const c={};m&4&&(c.show_label=r[2]),m&1&&(c.float=r[0]===null),m&2&&(c.label=r[1]||"File"),e.$set(c);let g=i;i=u(r,m),i===g?h[i].p(r,m):(at(),F(h[g],1,1,()=>{h[g]=null}),lt(),s=h[i],s?s.p(r,m):(s=h[i]=a[i](r),s.c()),y(s,1),s.m(o.parentNode,o))},i(r){_||(y(e.$$.fragment,r),y(s),_=!0)},o(r){F(e.$$.fragment,r),F(s),_=!1},d(r){r&&(Z(n),Z(o)),R(e,r),h[i].d(r)}}}function dt(l,e,n){let{$$slots:t={},$$scope:i}=e,{value:s}=e,{label:o}=e,{show_label:_=!0}=e,{file_count:a="single"}=e,{file_types:h=null}=e,{selectable:u=!1}=e,{root:r}=e,{height:m=void 0}=e,{i18n:c}=e,{max_file_size:g=null}=e;async function B({detail:f}){n(0,s=f),await ct(),b("change",s),b("upload",f)}function S(){n(0,s=null),b("change",null),b("clear")}const b=_t();let q=!1;function P(f){W.call(this,l,f)}function L(f){W.call(this,l,f)}function k(f){q=f,n(10,q)}function N(f){W.call(this,l,f)}return l.$$set=f=>{"value"in f&&n(0,s=f.value),"label"in f&&n(1,o=f.label),"show_label"in f&&n(2,_=f.show_label),"file_count"in f&&n(3,a=f.file_count),"file_types"in f&&n(4,h=f.file_types),"selectable"in f&&n(5,u=f.selectable),"root"in f&&n(6,r=f.root),"height"in f&&n(7,m=f.height),"i18n"in f&&n(8,c=f.i18n),"max_file_size"in f&&n(9,g=f.max_file_size),"$$scope"in f&&n(18,i=f.$$scope)},l.$$.update=()=>{l.$$.dirty&1024&&b("drag",q)},[s,o,_,a,h,u,r,m,c,g,q,B,S,t,P,L,k,N,i]}class wt extends Ze{constructor(e){super(),rt(this,e,dt,bt,ut,{value:0,label:1,show_label:2,file_count:3,file_types:4,selectable:5,root:6,height:7,i18n:8,max_file_size:9})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),v()}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),v()}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),v()}get file_count(){return this.$$.ctx[3]}set file_count(e){this.$$set({file_count:e}),v()}get file_types(){return this.$$.ctx[4]}set file_types(e){this.$$set({file_types:e}),v()}get selectable(){return this.$$.ctx[5]}set selectable(e){this.$$set({selectable:e}),v()}get root(){return this.$$.ctx[6]}set root(e){this.$$set({root:e}),v()}get height(){return this.$$.ctx[7]}set height(e){this.$$set({height:e}),v()}get i18n(){return this.$$.ctx[8]}set i18n(e){this.$$set({i18n:e}),v()}get max_file_size(){return this.$$.ctx[9]}set max_file_size(e){this.$$set({max_file_size:e}),v()}}const Bt=wt;export{Bt as B,Ft as F,me as a};
//# sourceMappingURL=FileUpload-DdyWAboY.js.map
