import{U as kn}from"./ModifyUpload.svelte_svelte_type_style_lang-Du0s1Wxv.js";import{M as $n}from"./ModifyUpload-C4DNJwS2.js";import{I as En,S as Yt}from"./Index-CdNwo3lV.js";import{B as Zt}from"./BlockLabel-nqmpr3Sz.js";import{V as pt}from"./Video-fsmLZWjA.js";import{S as yn}from"./SelectSource-CscyKAT-.js";import{W as Tn}from"./ImageUploader-CedBHTez.js";import"./Image-qTpgsDKf.js";/* empty css                                              */import{l as Sn,t as Vn,V as Dn,p as St,a as qn}from"./Video-Bop0vHEX.js";import{b as lo}from"./Video-Bop0vHEX.js";import{T as Cn,P as Rn,a as zn}from"./Trim-UKwaW4UI.js";import{U as xt}from"./Undo-CpmTQw3B.js";import{f as qe,u as Bn}from"./Blocks-BZk570BN.js";import{p as Ln,u as Mn}from"./index-Xl9iYhYF.js";import{E as In}from"./Empty-DpKdHCs0.js";import{S as Pn}from"./ShareButton-DvmCuh5h.js";import{D as Nn,a as Un}from"./DownloadLink-DaQPcWCF.js";import{default as oo}from"./Example-DegAbjzy.js";import{B as en}from"./Button-6iwMg6dW.js";import{U as An}from"./UploadText-So-mOkTQ.js";import"./Upload-Cp8Go_XF.js";import"./Image-Bsh8Umrh.js";import"./DropdownArrow-CHSZNAvG.js";import"./file-url-CUYFthGu.js";import"./svelte/svelte.js";const{SvelteComponent:Hn,append:Xn,attr:x,detach:Fn,init:jn,insert:On,noop:ft,safe_not_equal:Wn,svg_element:Vt}=window.__gradio__svelte__internal;function Jn(l){let e,n;return{c(){e=Vt("svg"),n=Vt("path"),x(n,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),x(e,"xmlns","http://www.w3.org/2000/svg"),x(e,"width","100%"),x(e,"height","100%"),x(e,"viewBox","0 0 24 24"),x(e,"fill","none"),x(e,"stroke","currentColor"),x(e,"stroke-width","1.5"),x(e,"stroke-linecap","round"),x(e,"stroke-linejoin","round")},m(t,i){On(t,e,i),Xn(e,n)},p:ft,i:ft,o:ft,d(t){t&&Fn(e)}}}class Gn extends Hn{constructor(e){super(),jn(this,e,null,Jn,Wn,{})}}const{SvelteComponent:Kn,append:Te,attr:N,destroy_block:Qn,detach:rt,element:we,ensure_array_like:Dt,flush:Ne,init:Yn,insert:at,listen:Se,noop:ht,run_all:Zn,safe_not_equal:xn,set_style:ce,space:ct,src_url_equal:qt,update_keyed_each:el}=window.__gradio__svelte__internal,{onMount:Ct,onDestroy:tl}=window.__gradio__svelte__internal;function Rt(l,e,n){const t=l.slice();return t[20]=e[n],t[22]=n,t}function nl(l){let e,n,t,i,o,s=[],a=new Map,r,_,u,f,c=Dt(l[1]);const d=h=>h[22];for(let h=0;h<c.length;h+=1){let m=Rt(l,c,h),k=d(m);a.set(k,s[h]=zt(k,m))}return{c(){e=we("div"),n=we("button"),t=ct(),i=we("div"),o=ct();for(let h=0;h<s.length;h+=1)s[h].c();r=ct(),_=we("button"),N(n,"aria-label","start drag handle for trimming video"),N(n,"class","handle left svelte-10c4beq"),ce(n,"left",l[2]+"%"),N(i,"class","opaque-layer svelte-10c4beq"),ce(i,"left",l[2]+"%"),ce(i,"right",100-l[3]+"%"),N(_,"aria-label","end drag handle for trimming video"),N(_,"class","handle right svelte-10c4beq"),ce(_,"left",l[3]+"%"),N(e,"id","timeline"),N(e,"class","thumbnail-wrapper svelte-10c4beq")},m(h,m){at(h,e,m),Te(e,n),Te(e,t),Te(e,i),Te(e,o);for(let k=0;k<s.length;k+=1)s[k]&&s[k].m(e,null);Te(e,r),Te(e,_),u||(f=[Se(n,"mousedown",l[10]),Se(n,"blur",l[5]),Se(n,"keydown",l[11]),Se(_,"mousedown",l[12]),Se(_,"blur",l[5]),Se(_,"keydown",l[13])],u=!0)},p(h,m){m&4&&ce(n,"left",h[2]+"%"),m&4&&ce(i,"left",h[2]+"%"),m&8&&ce(i,"right",100-h[3]+"%"),m&2&&(c=Dt(h[1]),s=el(s,m,d,1,h,c,a,e,Qn,zt,r,Rt)),m&8&&ce(_,"left",h[3]+"%")},d(h){h&&rt(e);for(let m=0;m<s.length;m+=1)s[m].d();u=!1,Zn(f)}}}function ll(l){let e;return{c(){e=we("div"),e.innerHTML='<span aria-label="loading timeline" class="loader svelte-10c4beq"></span>',N(e,"class","load-wrap svelte-10c4beq")},m(n,t){at(n,e,t)},p:ht,d(n){n&&rt(e)}}}function zt(l,e){let n,t,i;return{key:l,first:null,c(){n=we("img"),qt(n.src,t=e[20])||N(n,"src",t),N(n,"alt",i=`frame-${e[22]}`),N(n,"draggable","false"),N(n,"class","svelte-10c4beq"),this.first=n},m(o,s){at(o,n,s)},p(o,s){e=o,s&2&&!qt(n.src,t=e[20])&&N(n,"src",t),s&2&&i!==(i=`frame-${e[22]}`)&&N(n,"alt",i)},d(o){o&&rt(n)}}}function il(l){let e;function n(o,s){return o[0]?ll:nl}let t=n(l),i=t(l);return{c(){e=we("div"),i.c(),N(e,"class","container svelte-10c4beq")},m(o,s){at(o,e,s),i.m(e,null)},p(o,[s]){t===(t=n(o))&&i?i.p(o,s):(i.d(1),i=t(o),i&&(i.c(),i.m(e,null)))},i:ht,o:ht,d(o){o&&rt(e),i.d()}}}let dt=10;function ol(l,e,n){let{videoElement:t}=e,{trimmedDuration:i}=e,{dragStart:o}=e,{dragEnd:s}=e,{loadingTimeline:a}=e,r=[],_,u=0,f=100,c=null;const d=g=>{c=g},h=()=>{c=null},m=(g,V)=>{if(c){const R=document.getElementById("timeline");if(!R)return;const y=R.getBoundingClientRect();let D=(g.clientX-y.left)/y.width*100;if(V?D=c==="left"?u+V:f+V:D=(g.clientX-y.left)/y.width*100,D=Math.max(0,Math.min(D,100)),c==="left"){n(2,u=Math.min(D,f));const z=u/100*_;n(6,t.currentTime=z,t),n(8,o=z)}else if(c==="right"){n(3,f=Math.max(D,u));const z=f/100*_;n(6,t.currentTime=z,t),n(9,s=z)}const W=u/100*_,L=f/100*_;n(7,i=L-W),n(2,u),n(3,f)}},k=g=>{if(c){const V=1/_*100;g.key==="ArrowLeft"?m({clientX:0},-V):g.key==="ArrowRight"&&m({clientX:0},V)}},S=()=>{const g=document.createElement("canvas"),V=g.getContext("2d");if(!V)return;g.width=t.videoWidth,g.height=t.videoHeight,V.drawImage(t,0,0,g.width,g.height);const R=g.toDataURL("image/jpeg",.7);n(1,r=[...r,R])};Ct(()=>{const g=()=>{_=t.duration;const V=_/dt;let R=0;const y=()=>{S(),R++,R<dt?n(6,t.currentTime+=V,t):t.removeEventListener("seeked",y)};t.addEventListener("seeked",y),n(6,t.currentTime=0,t)};t.readyState>=1?g():t.addEventListener("loadedmetadata",g)}),tl(()=>{window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",h),window.removeEventListener("keydown",k)}),Ct(()=>{window.addEventListener("mousemove",m),window.addEventListener("mouseup",h),window.addEventListener("keydown",k)});const C=()=>d("left"),E=g=>{(g.key==="ArrowLeft"||g.key=="ArrowRight")&&d("left")},M=()=>d("right"),b=g=>{(g.key==="ArrowLeft"||g.key=="ArrowRight")&&d("right")};return l.$$set=g=>{"videoElement"in g&&n(6,t=g.videoElement),"trimmedDuration"in g&&n(7,i=g.trimmedDuration),"dragStart"in g&&n(8,o=g.dragStart),"dragEnd"in g&&n(9,s=g.dragEnd),"loadingTimeline"in g&&n(0,a=g.loadingTimeline)},l.$$.update=()=>{l.$$.dirty&2&&n(0,a=r.length!==dt)},[a,r,u,f,d,h,t,i,o,s,C,E,M,b]}class sl extends Kn{constructor(e){super(),Yn(this,e,ol,il,xn,{videoElement:6,trimmedDuration:7,dragStart:8,dragEnd:9,loadingTimeline:0})}get videoElement(){return this.$$.ctx[6]}set videoElement(e){this.$$set({videoElement:e}),Ne()}get trimmedDuration(){return this.$$.ctx[7]}set trimmedDuration(e){this.$$set({trimmedDuration:e}),Ne()}get dragStart(){return this.$$.ctx[8]}set dragStart(e){this.$$set({dragStart:e}),Ne()}get dragEnd(){return this.$$.ctx[9]}set dragEnd(e){this.$$set({dragEnd:e}),Ne()}get loadingTimeline(){return this.$$.ctx[0]}set loadingTimeline(e){this.$$set({loadingTimeline:e}),Ne()}}const{SvelteComponent:rl,add_flush_callback:We,append:De,attr:O,bind:Je,binding_callbacks:Ge,check_outros:Ke,create_component:kt,destroy_component:$t,detach:te,element:ne,empty:al,flush:he,group_outros:Qe,init:ul,insert:le,listen:nt,mount_component:Et,noop:gt,run_all:_l,safe_not_equal:fl,set_data:cl,space:Ye,text:dl,toggle_class:Ce,transition_in:j,transition_out:Y}=window.__gradio__svelte__internal,{onMount:ml}=window.__gradio__svelte__internal;function Bt(l){let e,n,t,i,o,s,a;function r(d){l[13](d)}function _(d){l[14](d)}function u(d){l[15](d)}function f(d){l[16](d)}let c={videoElement:l[2]};return l[9]!==void 0&&(c.dragStart=l[9]),l[10]!==void 0&&(c.dragEnd=l[10]),l[7]!==void 0&&(c.trimmedDuration=l[7]),l[11]!==void 0&&(c.loadingTimeline=l[11]),n=new sl({props:c}),Ge.push(()=>Je(n,"dragStart",r)),Ge.push(()=>Je(n,"dragEnd",_)),Ge.push(()=>Je(n,"trimmedDuration",u)),Ge.push(()=>Je(n,"loadingTimeline",f)),{c(){e=ne("div"),kt(n.$$.fragment),O(e,"class","timeline-wrapper svelte-sxyn79")},m(d,h){le(d,e,h),Et(n,e,null),a=!0},p(d,h){const m={};h&4&&(m.videoElement=d[2]),!t&&h&512&&(t=!0,m.dragStart=d[9],We(()=>t=!1)),!i&&h&1024&&(i=!0,m.dragEnd=d[10],We(()=>i=!1)),!o&&h&128&&(o=!0,m.trimmedDuration=d[7],We(()=>o=!1)),!s&&h&2048&&(s=!0,m.loadingTimeline=d[11],We(()=>s=!1)),n.$set(m)},i(d){a||(j(n.$$.fragment,d),a=!0)},o(d){Y(n.$$.fragment,d),a=!1},d(d){d&&te(e),$t(n)}}}function hl(l){let e;return{c(){e=ne("div"),O(e,"class","svelte-sxyn79")},m(n,t){le(n,e,t)},p:gt,d(n){n&&te(e)}}}function gl(l){let e,n=qe(l[7])+"",t;return{c(){e=ne("time"),t=dl(n),O(e,"aria-label","duration of selected region in seconds"),O(e,"class","svelte-sxyn79"),Ce(e,"hidden",l[11])},m(i,o){le(i,e,o),De(e,t)},p(i,o){o&128&&n!==(n=qe(i[7])+"")&&cl(t,n),o&2048&&Ce(e,"hidden",i[11])},d(i){i&&te(e)}}}function Lt(l){let e,n,t,i,o;return n=new xt({}),{c(){e=ne("button"),kt(n.$$.fragment),O(e,"class","action icon svelte-sxyn79"),e.disabled=l[1],O(e,"aria-label","Reset video to initial value")},m(s,a){le(s,e,a),Et(n,e,null),t=!0,i||(o=nt(e,"click",l[17]),i=!0)},p(s,a){(!t||a&2)&&(e.disabled=s[1])},i(s){t||(j(n.$$.fragment,s),t=!0)},o(s){Y(n.$$.fragment,s),t=!1},d(s){s&&te(e),$t(n),i=!1,o()}}}function Mt(l){let e,n,t,i;const o=[wl,bl],s=[];function a(r,_){return r[0]===""?0:1}return e=a(l),n=s[e]=o[e](l),{c(){n.c(),t=al()},m(r,_){s[e].m(r,_),le(r,t,_),i=!0},p(r,_){let u=e;e=a(r),e===u?s[e].p(r,_):(Qe(),Y(s[u],1,1,()=>{s[u]=null}),Ke(),n=s[e],n?n.p(r,_):(n=s[e]=o[e](r),n.c()),j(n,1),n.m(t.parentNode,t))},i(r){i||(j(n),i=!0)},o(r){Y(n),i=!1},d(r){r&&te(t),s[e].d(r)}}}function bl(l){let e,n,t,i,o;return{c(){e=ne("button"),e.textContent="Trim",n=Ye(),t=ne("button"),t.textContent="Cancel",O(e,"class","text-button svelte-sxyn79"),Ce(e,"hidden",l[11]),O(t,"class","text-button svelte-sxyn79"),Ce(t,"hidden",l[11])},m(s,a){le(s,e,a),le(s,n,a),le(s,t,a),i||(o=[nt(e,"click",l[18]),nt(t,"click",l[12])],i=!0)},p(s,a){a&2048&&Ce(e,"hidden",s[11]),a&2048&&Ce(t,"hidden",s[11])},i:gt,o:gt,d(s){s&&(te(e),te(n),te(t)),i=!1,_l(o)}}}function wl(l){let e,n,t,i,o;return n=new Cn({}),{c(){e=ne("button"),kt(n.$$.fragment),e.disabled=l[1],O(e,"class","action icon svelte-sxyn79"),O(e,"aria-label","Trim video to selection")},m(s,a){le(s,e,a),Et(n,e,null),t=!0,i||(o=nt(e,"click",l[12]),i=!0)},p(s,a){(!t||a&2)&&(e.disabled=s[1])},i(s){t||(j(n.$$.fragment,s),t=!0)},o(s){Y(n.$$.fragment,s),t=!1},d(s){s&&te(e),$t(n),i=!1,o()}}}function vl(l){let e,n,t,i,o,s,a,r=l[0]==="edit"&&Bt(l);function _(h,m){return h[0]==="edit"&&h[7]!==null?gl:hl}let u=_(l),f=u(l),c=l[3]&&l[0]===""&&Lt(l),d=l[4]&&Mt(l);return{c(){e=ne("div"),r&&r.c(),n=Ye(),t=ne("div"),f.c(),i=Ye(),o=ne("div"),c&&c.c(),s=Ye(),d&&d.c(),O(o,"class","settings-wrapper svelte-sxyn79"),O(t,"class","controls svelte-sxyn79"),O(t,"data-testid","waveform-controls"),O(e,"class","container svelte-sxyn79")},m(h,m){le(h,e,m),r&&r.m(e,null),De(e,n),De(e,t),f.m(t,null),De(t,i),De(t,o),c&&c.m(o,null),De(o,s),d&&d.m(o,null),a=!0},p(h,[m]){h[0]==="edit"?r?(r.p(h,m),m&1&&j(r,1)):(r=Bt(h),r.c(),j(r,1),r.m(e,n)):r&&(Qe(),Y(r,1,1,()=>{r=null}),Ke()),u===(u=_(h))&&f?f.p(h,m):(f.d(1),f=u(h),f&&(f.c(),f.m(t,i))),h[3]&&h[0]===""?c?(c.p(h,m),m&9&&j(c,1)):(c=Lt(h),c.c(),j(c,1),c.m(o,s)):c&&(Qe(),Y(c,1,1,()=>{c=null}),Ke()),h[4]?d?(d.p(h,m),m&16&&j(d,1)):(d=Mt(h),d.c(),j(d,1),d.m(o,null)):d&&(Qe(),Y(d,1,1,()=>{d=null}),Ke())},i(h){a||(j(r),j(c),j(d),a=!0)},o(h){Y(r),Y(c),Y(d),a=!1},d(h){h&&te(e),r&&r.d(),f.d(),c&&c.d(),d&&d.d()}}}function pl(l,e,n){let{videoElement:t}=e,{showRedo:i=!1}=e,{interactive:o=!0}=e,{mode:s=""}=e,{handle_reset_value:a}=e,{handle_trim_video:r}=e,{processingVideo:_=!1}=e,u;ml(async()=>{n(8,u=await Sn())});let f=null,c=0,d=0,h=!1;const m=()=>{s==="edit"?(n(0,s=""),n(7,f=t.duration)):n(0,s="edit")};function k(g){c=g,n(9,c)}function S(g){d=g,n(10,d)}function C(g){f=g,n(7,f),n(0,s),n(2,t)}function E(g){h=g,n(11,h)}const M=()=>{a(),n(0,s="")},b=()=>{n(0,s=""),n(1,_=!0),Vn(u,c,d,t).then(g=>{r(g)}).then(()=>{n(1,_=!1)})};return l.$$set=g=>{"videoElement"in g&&n(2,t=g.videoElement),"showRedo"in g&&n(3,i=g.showRedo),"interactive"in g&&n(4,o=g.interactive),"mode"in g&&n(0,s=g.mode),"handle_reset_value"in g&&n(5,a=g.handle_reset_value),"handle_trim_video"in g&&n(6,r=g.handle_trim_video),"processingVideo"in g&&n(1,_=g.processingVideo)},l.$$.update=()=>{l.$$.dirty&133&&s==="edit"&&f===null&&t&&n(7,f=t.duration)},[s,_,t,i,o,a,r,f,u,c,d,h,m,k,S,C,E,M,b]}class kl extends rl{constructor(e){super(),ul(this,e,pl,vl,fl,{videoElement:2,showRedo:3,interactive:4,mode:0,handle_reset_value:5,handle_trim_video:6,processingVideo:1})}get videoElement(){return this.$$.ctx[2]}set videoElement(e){this.$$set({videoElement:e}),he()}get showRedo(){return this.$$.ctx[3]}set showRedo(e){this.$$set({showRedo:e}),he()}get interactive(){return this.$$.ctx[4]}set interactive(e){this.$$set({interactive:e}),he()}get mode(){return this.$$.ctx[0]}set mode(e){this.$$set({mode:e}),he()}get handle_reset_value(){return this.$$.ctx[5]}set handle_reset_value(e){this.$$set({handle_reset_value:e}),he()}get handle_trim_video(){return this.$$.ctx[6]}set handle_trim_video(e){this.$$set({handle_trim_video:e}),he()}get processingVideo(){return this.$$.ctx[1]}set processingVideo(e){this.$$set({processingVideo:e}),he()}}const{SvelteComponent:$l,add_flush_callback:Ae,append:X,attr:I,bind:He,binding_callbacks:Xe,bubble:It,check_outros:Pt,create_component:Re,destroy_component:ze,detach:Ze,element:re,empty:El,flush:se,group_outros:Nt,init:yl,insert:xe,listen:ge,mount_component:Be,prevent_default:Ut,run_all:Tl,safe_not_equal:Sl,set_data:At,space:Ue,src_url_equal:Ht,stop_propagation:Vl,text:mt,toggle_class:Xt,transition_in:Q,transition_out:ee}=window.__gradio__svelte__internal,{createEventDispatcher:Dl}=window.__gradio__svelte__internal;function ql(l){let e,n;return{c(){e=re("track"),I(e,"kind","captions"),Ht(e.src,n=l[1])||I(e,"src",n),e.default=!0},m(t,i){xe(t,e,i)},p(t,i){i&2&&!Ht(e.src,n=t[1])&&I(e,"src",n)},d(t){t&&Ze(e)}}}function Cl(l){let e,n;return e=new Rn({}),{c(){Re(e.$$.fragment)},m(t,i){Be(e,t,i),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){ee(e.$$.fragment,t),n=!1},d(t){ze(e,t)}}}function Rl(l){let e,n;return e=new zn({}),{c(){Re(e.$$.fragment)},m(t,i){Be(e,t,i),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){ee(e.$$.fragment,t),n=!1},d(t){ze(e,t)}}}function zl(l){let e,n;return e=new xt({}),{c(){Re(e.$$.fragment)},m(t,i){Be(e,t,i),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){ee(e.$$.fragment,t),n=!1},d(t){ze(e,t)}}}function Ft(l){let e,n,t;function i(s){l[26](s)}let o={videoElement:l[10],showRedo:!0,handle_trim_video:l[16],handle_reset_value:l[6]};return l[11]!==void 0&&(o.processingVideo=l[11]),e=new kl({props:o}),Xe.push(()=>He(e,"processingVideo",i)),{c(){Re(e.$$.fragment)},m(s,a){Be(e,s,a),t=!0},p(s,a){const r={};a&1024&&(r.videoElement=s[10]),a&64&&(r.handle_reset_value=s[6]),!n&&a&2048&&(n=!0,r.processingVideo=s[11],Ae(()=>n=!1)),e.$set(r)},i(s){t||(Q(e.$$.fragment,s),t=!0)},o(s){ee(e.$$.fragment,s),t=!1},d(s){ze(e,s)}}}function Bl(l){let e,n,t,i,o,s,a,r,_,u,f,c,d,h,m,k=qe(l[7])+"",S,C,E=qe(l[8])+"",M,b,g,V,R,y,D,W,L,z,Z,p;function J($){l[20]($)}function G($){l[21]($)}function ie($){l[22]($)}function w($){l[23]($)}let me={src:l[0],preload:"auto",autoplay:l[3],"data-testid":`${l[4]}-player`,processingVideo:l[11],$$slots:{default:[ql]},$$scope:{ctx:l}};l[7]!==void 0&&(me.currentTime=l[7]),l[8]!==void 0&&(me.duration=l[8]),l[9]!==void 0&&(me.paused=l[9]),l[10]!==void 0&&(me.node=l[10]),t=new Dn({props:me}),Xe.push(()=>He(t,"currentTime",J)),Xe.push(()=>He(t,"duration",G)),Xe.push(()=>He(t,"paused",ie)),Xe.push(()=>He(t,"node",w)),t.$on("click",l[13]),t.$on("play",l[24]),t.$on("pause",l[25]),t.$on("ended",l[15]);const je=[zl,Rl,Cl],oe=[];function Oe($,T){return $[7]===$[8]?0:$[9]?1:2}c=Oe(l),d=oe[c]=je[c](l),D=new Gn({});let B=l[5]&&Ft(l);return{c(){e=re("div"),n=re("div"),Re(t.$$.fragment),r=Ue(),_=re("div"),u=re("div"),f=re("span"),d.c(),h=Ue(),m=re("span"),S=mt(k),C=mt(" / "),M=mt(E),b=Ue(),g=re("progress"),R=Ue(),y=re("div"),Re(D.$$.fragment),W=Ue(),B&&B.c(),L=El(),I(n,"class","mirror-wrap svelte-euo1cw"),Xt(n,"mirror",l[2]),I(f,"role","button"),I(f,"tabindex","0"),I(f,"class","icon svelte-euo1cw"),I(f,"aria-label","play-pause-replay-button"),I(m,"class","time svelte-euo1cw"),g.value=V=l[7]/l[8]||0,I(g,"class","svelte-euo1cw"),I(y,"role","button"),I(y,"tabindex","0"),I(y,"class","icon svelte-euo1cw"),I(y,"aria-label","full-screen"),I(u,"class","inner svelte-euo1cw"),I(_,"class","controls svelte-euo1cw"),I(e,"class","wrap svelte-euo1cw")},m($,T){xe($,e,T),X(e,n),Be(t,n,null),X(e,r),X(e,_),X(_,u),X(u,f),oe[c].m(f,null),X(u,h),X(u,m),X(m,S),X(m,C),X(m,M),X(u,b),X(u,g),X(u,R),X(u,y),Be(D,y,null),xe($,W,T),B&&B.m($,T),xe($,L,T),z=!0,Z||(p=[ge(f,"click",l[13]),ge(f,"keydown",l[13]),ge(g,"mousemove",l[12]),ge(g,"touchmove",Ut(l[12])),ge(g,"click",Vl(Ut(l[14]))),ge(y,"click",l[17]),ge(y,"keypress",l[17])],Z=!0)},p($,[T]){const K={};T&1&&(K.src=$[0]),T&8&&(K.autoplay=$[3]),T&16&&(K["data-testid"]=`${$[4]}-player`),T&2048&&(K.processingVideo=$[11]),T&268435458&&(K.$$scope={dirty:T,ctx:$}),!i&&T&128&&(i=!0,K.currentTime=$[7],Ae(()=>i=!1)),!o&&T&256&&(o=!0,K.duration=$[8],Ae(()=>o=!1)),!s&&T&512&&(s=!0,K.paused=$[9],Ae(()=>s=!1)),!a&&T&1024&&(a=!0,K.node=$[10],Ae(()=>a=!1)),t.$set(K),(!z||T&4)&&Xt(n,"mirror",$[2]);let Pe=c;c=Oe($),c!==Pe&&(Nt(),ee(oe[Pe],1,1,()=>{oe[Pe]=null}),Pt(),d=oe[c],d||(d=oe[c]=je[c]($),d.c()),Q(d,1),d.m(f,null)),(!z||T&128)&&k!==(k=qe($[7])+"")&&At(S,k),(!z||T&256)&&E!==(E=qe($[8])+"")&&At(M,E),(!z||T&384&&V!==(V=$[7]/$[8]||0))&&(g.value=V),$[5]?B?(B.p($,T),T&32&&Q(B,1)):(B=Ft($),B.c(),Q(B,1),B.m(L.parentNode,L)):B&&(Nt(),ee(B,1,1,()=>{B=null}),Pt())},i($){z||(Q(t.$$.fragment,$),Q(d),Q(D.$$.fragment,$),Q(B),z=!0)},o($){ee(t.$$.fragment,$),ee(d),ee(D.$$.fragment,$),ee(B),z=!1},d($){$&&(Ze(e),Ze(W),Ze(L)),ze(t),oe[c].d(),ze(D),B&&B.d($),Z=!1,Tl(p)}}}function Ll(l,e,n){let{root:t=""}=e,{src:i}=e,{subtitle:o=null}=e,{mirror:s}=e,{autoplay:a}=e,{label:r="test"}=e,{interactive:_=!1}=e,{handle_change:u=()=>{}}=e,{handle_reset_value:f=()=>{}}=e;const c=Dl();let d=0,h,m=!0,k,S=!1;function C(p){if(!h)return;if(p.type==="click"){M(p);return}if(p.type!=="touchmove"&&!(p.buttons&1))return;const J=p.type==="touchmove"?p.touches[0].clientX:p.clientX,{left:G,right:ie}=p.currentTarget.getBoundingClientRect();n(7,d=h*(J-G)/(ie-G))}async function E(){document.fullscreenElement!=k&&(k.currentTime>0&&!k.paused&&!k.ended&&k.readyState>k.HAVE_CURRENT_DATA?k.pause():await k.play())}function M(p){const{left:J,right:G}=p.currentTarget.getBoundingClientRect();n(7,d=h*(p.clientX-J)/(G-J))}function b(){c("stop"),c("end")}const g=async p=>{let J=new File([p],"video.mp4");const G=await Ln([J]);let ie=(await Mn(G,t))?.filter(Boolean)[0];u(ie)};function V(){k.requestFullscreen()}function R(p){d=p,n(7,d)}function y(p){h=p,n(8,h)}function D(p){m=p,n(9,m)}function W(p){k=p,n(10,k)}function L(p){It.call(this,l,p)}function z(p){It.call(this,l,p)}function Z(p){S=p,n(11,S)}return l.$$set=p=>{"root"in p&&n(18,t=p.root),"src"in p&&n(0,i=p.src),"subtitle"in p&&n(1,o=p.subtitle),"mirror"in p&&n(2,s=p.mirror),"autoplay"in p&&n(3,a=p.autoplay),"label"in p&&n(4,r=p.label),"interactive"in p&&n(5,_=p.interactive),"handle_change"in p&&n(19,u=p.handle_change),"handle_reset_value"in p&&n(6,f=p.handle_reset_value)},[i,o,s,a,r,_,f,d,h,m,k,S,C,E,M,b,g,V,t,u,R,y,D,W,L,z,Z]}class Ml extends $l{constructor(e){super(),yl(this,e,Ll,Bl,Sl,{root:18,src:0,subtitle:1,mirror:2,autoplay:3,label:4,interactive:5,handle_change:19,handle_reset_value:6})}get root(){return this.$$.ctx[18]}set root(e){this.$$set({root:e}),se()}get src(){return this.$$.ctx[0]}set src(e){this.$$set({src:e}),se()}get subtitle(){return this.$$.ctx[1]}set subtitle(e){this.$$set({subtitle:e}),se()}get mirror(){return this.$$.ctx[2]}set mirror(e){this.$$set({mirror:e}),se()}get autoplay(){return this.$$.ctx[3]}set autoplay(e){this.$$set({autoplay:e}),se()}get label(){return this.$$.ctx[4]}set label(e){this.$$set({label:e}),se()}get interactive(){return this.$$.ctx[5]}set interactive(e){this.$$set({interactive:e}),se()}get handle_change(){return this.$$.ctx[19]}set handle_change(e){this.$$set({handle_change:e}),se()}get handle_reset_value(){return this.$$.ctx[6]}set handle_reset_value(e){this.$$set({handle_reset_value:e}),se()}}const tn=Ml,{SvelteComponent:Il,add_flush_callback:nn,append:bt,attr:Fe,bind:ln,binding_callbacks:on,bubble:be,check_outros:ut,create_component:Le,create_slot:Pl,destroy_component:Me,detach:ae,element:lt,empty:sn,flush:F,get_all_dirty_from_scope:Nl,get_slot_changes:Ul,group_outros:_t,init:Al,insert:ue,mount_component:Ie,noop:wt,safe_not_equal:rn,set_data:jt,space:it,text:Ot,transition_in:A,transition_out:H,update_slot_base:Hl}=window.__gradio__svelte__internal,{createEventDispatcher:Xl}=window.__gradio__svelte__internal;function Fl(l){let e,n,t,i,o,s,a;e=new $n({props:{i18n:l[11],download:l[5]?l[0].url:null}}),e.$on("clear",l[17]);const r=[Wl,Ol],_=[];function u(f,c){return t==null&&(t=!!qn()),t?0:f[0].size?1:-1}return~(i=u(l))&&(o=_[i]=r[i](l)),{c(){Le(e.$$.fragment),n=it(),o&&o.c(),s=sn()},m(f,c){Ie(e,f,c),ue(f,n,c),~i&&_[i].m(f,c),ue(f,s,c),a=!0},p(f,c){const d={};c[0]&2048&&(d.i18n=f[11]),c[0]&33&&(d.download=f[5]?f[0].url:null),e.$set(d);let h=i;i=u(f),i===h?~i&&_[i].p(f,c):(o&&(_t(),H(_[h],1,1,()=>{_[h]=null}),ut()),~i?(o=_[i],o?o.p(f,c):(o=_[i]=r[i](f),o.c()),A(o,1),o.m(s.parentNode,s)):o=null)},i(f){a||(A(e.$$.fragment,f),A(o),a=!0)},o(f){H(e.$$.fragment,f),H(o),a=!1},d(f){f&&(ae(n),ae(s)),Me(e,f),~i&&_[i].d(f)}}}function jl(l){let e,n,t,i;const o=[Gl,Jl],s=[];function a(r,_){return r[1]==="upload"?0:r[1]==="webcam"?1:-1}return~(n=a(l))&&(t=s[n]=o[n](l)),{c(){e=lt("div"),t&&t.c(),Fe(e,"class","upload-container svelte-1cs6pot")},m(r,_){ue(r,e,_),~n&&s[n].m(e,null),i=!0},p(r,_){let u=n;n=a(r),n===u?~n&&s[n].p(r,_):(t&&(_t(),H(s[u],1,1,()=>{s[u]=null}),ut()),~n?(t=s[n],t?t.p(r,_):(t=s[n]=o[n](r),t.c()),A(t,1),t.m(e,null)):t=null)},i(r){i||(A(t),i=!0)},o(r){H(t),i=!1},d(r){r&&ae(e),~n&&s[n].d()}}}function Ol(l){let e,n=(l[0].orig_name||l[0].url)+"",t,i,o,s=St(l[0].size)+"",a;return{c(){e=lt("div"),t=Ot(n),i=it(),o=lt("div"),a=Ot(s),Fe(e,"class","file-name svelte-1cs6pot"),Fe(o,"class","file-size svelte-1cs6pot")},m(r,_){ue(r,e,_),bt(e,t),ue(r,i,_),ue(r,o,_),bt(o,a)},p(r,_){_[0]&1&&n!==(n=(r[0].orig_name||r[0].url)+"")&&jt(t,n),_[0]&1&&s!==(s=St(r[0].size)+"")&&jt(a,s)},i:wt,o:wt,d(r){r&&(ae(e),ae(i),ae(o))}}}function Wl(l){let e=l[0]?.url,n,t,i=Wt(l);return{c(){i.c(),n=sn()},m(o,s){i.m(o,s),ue(o,n,s),t=!0},p(o,s){s[0]&1&&rn(e,e=o[0]?.url)?(_t(),H(i,1,1,wt),ut(),i=Wt(o),i.c(),A(i,1),i.m(n.parentNode,n)):i.p(o,s)},i(o){t||(A(i),t=!0)},o(o){H(i),t=!1},d(o){o&&ae(n),i.d(o)}}}function Wt(l){let e,n;return e=new tn({props:{root:l[10],interactive:!0,autoplay:l[9],src:l[0].url,subtitle:l[2]?.url,mirror:l[7]&&l[1]==="webcam",label:l[4],handle_change:l[18],handle_reset_value:l[12]}}),e.$on("play",l[26]),e.$on("pause",l[27]),e.$on("stop",l[28]),e.$on("end",l[29]),{c(){Le(e.$$.fragment)},m(t,i){Ie(e,t,i),n=!0},p(t,i){const o={};i[0]&1024&&(o.root=t[10]),i[0]&512&&(o.autoplay=t[9]),i[0]&1&&(o.src=t[0].url),i[0]&4&&(o.subtitle=t[2]?.url),i[0]&130&&(o.mirror=t[7]&&t[1]==="webcam"),i[0]&16&&(o.label=t[4]),i[0]&4096&&(o.handle_reset_value=t[12]),e.$set(o)},i(t){n||(A(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(t){Me(e,t)}}}function Jl(l){let e,n;return e=new Tn({props:{root:l[10],mirror_webcam:l[7],include_audio:l[8],mode:"video",i18n:l[11]}}),e.$on("error",l[23]),e.$on("capture",l[19]),e.$on("start_recording",l[24]),e.$on("stop_recording",l[25]),{c(){Le(e.$$.fragment)},m(t,i){Ie(e,t,i),n=!0},p(t,i){const o={};i[0]&1024&&(o.root=t[10]),i[0]&128&&(o.mirror_webcam=t[7]),i[0]&256&&(o.include_audio=t[8]),i[0]&2048&&(o.i18n=t[11]),e.$set(o)},i(t){n||(A(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(t){Me(e,t)}}}function Gl(l){let e,n,t;function i(s){l[21](s)}let o={filetype:"video/x-m4v,video/*",max_file_size:l[13],root:l[10],$$slots:{default:[Kl]},$$scope:{ctx:l}};return l[14]!==void 0&&(o.dragging=l[14]),e=new kn({props:o}),on.push(()=>ln(e,"dragging",i)),e.$on("load",l[16]),e.$on("error",l[22]),{c(){Le(e.$$.fragment)},m(s,a){Ie(e,s,a),t=!0},p(s,a){const r={};a[0]&8192&&(r.max_file_size=s[13]),a[0]&1024&&(r.root=s[10]),a[1]&1&&(r.$$scope={dirty:a,ctx:s}),!n&&a[0]&16384&&(n=!0,r.dragging=s[14],nn(()=>n=!1)),e.$set(r)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){Me(e,s)}}}function Kl(l){let e;const n=l[20].default,t=Pl(n,l,l[31],null);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o[1]&1)&&Hl(t,n,i,i[31],e?Ul(n,i[31],o,null):Nl(i[31]),null)},i(i){e||(A(t,i),e=!0)},o(i){H(t,i),e=!1},d(i){t&&t.d(i)}}}function Ql(l){let e,n,t,i,o,s,a,r,_;e=new Zt({props:{show_label:l[6],Icon:pt,label:l[4]||"Video"}});const u=[jl,Fl],f=[];function c(m,k){return m[0]===null||m[0].url===void 0?0:1}i=c(l),o=f[i]=u[i](l);function d(m){l[30](m)}let h={sources:l[3],handle_clear:l[17]};return l[1]!==void 0&&(h.active_source=l[1]),a=new yn({props:h}),on.push(()=>ln(a,"active_source",d)),{c(){Le(e.$$.fragment),n=it(),t=lt("div"),o.c(),s=it(),Le(a.$$.fragment),Fe(t,"data-testid","video"),Fe(t,"class","video-container svelte-1cs6pot")},m(m,k){Ie(e,m,k),ue(m,n,k),ue(m,t,k),f[i].m(t,null),bt(t,s),Ie(a,t,null),_=!0},p(m,k){const S={};k[0]&64&&(S.show_label=m[6]),k[0]&16&&(S.label=m[4]||"Video"),e.$set(S);let C=i;i=c(m),i===C?f[i].p(m,k):(_t(),H(f[C],1,1,()=>{f[C]=null}),ut(),o=f[i],o?o.p(m,k):(o=f[i]=u[i](m),o.c()),A(o,1),o.m(t,s));const E={};k[0]&8&&(E.sources=m[3]),!r&&k[0]&2&&(r=!0,E.active_source=m[1],nn(()=>r=!1)),a.$set(E)},i(m){_||(A(e.$$.fragment,m),A(o),A(a.$$.fragment,m),_=!0)},o(m){H(e.$$.fragment,m),H(o),H(a.$$.fragment,m),_=!1},d(m){m&&(ae(n),ae(t)),Me(e,m),f[i].d(),Me(a)}}}function Yl(l,e,n){let{$$slots:t={},$$scope:i}=e,{value:o=null}=e,{subtitle:s=null}=e,{sources:a=["webcam","upload"]}=e,{label:r=void 0}=e,{show_download_button:_=!1}=e,{show_label:u=!0}=e,{mirror_webcam:f=!1}=e,{include_audio:c}=e,{autoplay:d}=e,{root:h}=e,{i18n:m}=e,{active_source:k="webcam"}=e,{handle_reset_value:S=()=>{}}=e,{max_file_size:C=null}=e;const E=Xl();function M({detail:w}){n(0,o=w),E("change",w),E("upload",w)}function b(){n(0,o=null),E("change",null),E("clear")}function g(w){E("change",w)}function V({detail:w}){E("change",w)}let R=!1;function y(w){R=w,n(14,R)}const D=({detail:w})=>E("error",w);function W(w){be.call(this,l,w)}function L(w){be.call(this,l,w)}function z(w){be.call(this,l,w)}function Z(w){be.call(this,l,w)}function p(w){be.call(this,l,w)}function J(w){be.call(this,l,w)}function G(w){be.call(this,l,w)}function ie(w){k=w,n(1,k)}return l.$$set=w=>{"value"in w&&n(0,o=w.value),"subtitle"in w&&n(2,s=w.subtitle),"sources"in w&&n(3,a=w.sources),"label"in w&&n(4,r=w.label),"show_download_button"in w&&n(5,_=w.show_download_button),"show_label"in w&&n(6,u=w.show_label),"mirror_webcam"in w&&n(7,f=w.mirror_webcam),"include_audio"in w&&n(8,c=w.include_audio),"autoplay"in w&&n(9,d=w.autoplay),"root"in w&&n(10,h=w.root),"i18n"in w&&n(11,m=w.i18n),"active_source"in w&&n(1,k=w.active_source),"handle_reset_value"in w&&n(12,S=w.handle_reset_value),"max_file_size"in w&&n(13,C=w.max_file_size),"$$scope"in w&&n(31,i=w.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&16384&&E("drag",R)},[o,k,s,a,r,_,u,f,c,d,h,m,S,C,R,E,M,b,g,V,t,y,D,W,L,z,Z,p,J,G,ie,i]}class Zl extends Il{constructor(e){super(),Al(this,e,Yl,Ql,rn,{value:0,subtitle:2,sources:3,label:4,show_download_button:5,show_label:6,mirror_webcam:7,include_audio:8,autoplay:9,root:10,i18n:11,active_source:1,handle_reset_value:12,max_file_size:13},null,[-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),F()}get subtitle(){return this.$$.ctx[2]}set subtitle(e){this.$$set({subtitle:e}),F()}get sources(){return this.$$.ctx[3]}set sources(e){this.$$set({sources:e}),F()}get label(){return this.$$.ctx[4]}set label(e){this.$$set({label:e}),F()}get show_download_button(){return this.$$.ctx[5]}set show_download_button(e){this.$$set({show_download_button:e}),F()}get show_label(){return this.$$.ctx[6]}set show_label(e){this.$$set({show_label:e}),F()}get mirror_webcam(){return this.$$.ctx[7]}set mirror_webcam(e){this.$$set({mirror_webcam:e}),F()}get include_audio(){return this.$$.ctx[8]}set include_audio(e){this.$$set({include_audio:e}),F()}get autoplay(){return this.$$.ctx[9]}set autoplay(e){this.$$set({autoplay:e}),F()}get root(){return this.$$.ctx[10]}set root(e){this.$$set({root:e}),F()}get i18n(){return this.$$.ctx[11]}set i18n(e){this.$$set({i18n:e}),F()}get active_source(){return this.$$.ctx[1]}set active_source(e){this.$$set({active_source:e}),F()}get handle_reset_value(){return this.$$.ctx[12]}set handle_reset_value(e){this.$$set({handle_reset_value:e}),F()}get max_file_size(){return this.$$.ctx[13]}set max_file_size(e){this.$$set({max_file_size:e}),F()}}const xl=Zl,{SvelteComponent:ei,append:ti,attr:Jt,bubble:Ve,check_outros:et,create_component:$e,destroy_component:Ee,detach:ot,element:ni,empty:li,flush:de,group_outros:tt,init:ii,insert:st,mount_component:ye,noop:an,safe_not_equal:un,space:vt,transition_in:P,transition_out:U}=window.__gradio__svelte__internal,{createEventDispatcher:oi,afterUpdate:si,tick:ri}=window.__gradio__svelte__internal;function ai(l){let e=l[0].url,n,t,i,o,s=Gt(l),a=l[6]&&Kt(l),r=l[5]&&Qt(l);return{c(){s.c(),n=vt(),t=ni("div"),a&&a.c(),i=vt(),r&&r.c(),Jt(t,"class","icon-buttons svelte-rvdo70"),Jt(t,"data-testid","download-div")},m(_,u){s.m(_,u),st(_,n,u),st(_,t,u),a&&a.m(t,null),ti(t,i),r&&r.m(t,null),o=!0},p(_,u){u&1&&un(e,e=_[0].url)?(tt(),U(s,1,1,an),et(),s=Gt(_),s.c(),P(s,1),s.m(n.parentNode,n)):s.p(_,u),_[6]?a?(a.p(_,u),u&64&&P(a,1)):(a=Kt(_),a.c(),P(a,1),a.m(t,i)):a&&(tt(),U(a,1,1,()=>{a=null}),et()),_[5]?r?(r.p(_,u),u&32&&P(r,1)):(r=Qt(_),r.c(),P(r,1),r.m(t,null)):r&&(tt(),U(r,1,1,()=>{r=null}),et())},i(_){o||(P(s),P(a),P(r),o=!0)},o(_){U(s),U(a),U(r),o=!1},d(_){_&&(ot(n),ot(t)),s.d(_),a&&a.d(),r&&r.d()}}}function ui(l){let e,n;return e=new In({props:{unpadded_box:!0,size:"large",$$slots:{default:[fi]},$$scope:{ctx:l}}}),{c(){$e(e.$$.fragment)},m(t,i){ye(e,t,i),n=!0},p(t,i){const o={};i&262144&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){Ee(e,t)}}}function Gt(l){let e,n;return e=new tn({props:{src:l[0].url,subtitle:l[1]?.url,autoplay:l[4],mirror:!1,label:l[2],interactive:!1}}),e.$on("play",l[8]),e.$on("pause",l[9]),e.$on("stop",l[10]),e.$on("end",l[11]),{c(){$e(e.$$.fragment)},m(t,i){ye(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.src=t[0].url),i&2&&(o.subtitle=t[1]?.url),i&16&&(o.autoplay=t[4]),i&4&&(o.label=t[2]),e.$set(o)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){Ee(e,t)}}}function Kt(l){let e,n;return e=new Nn({props:{href:l[0].url,download:l[0].orig_name||l[0].path,$$slots:{default:[_i]},$$scope:{ctx:l}}}),{c(){$e(e.$$.fragment)},m(t,i){ye(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.href=t[0].url),i&1&&(o.download=t[0].orig_name||t[0].path),i&262144&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){Ee(e,t)}}}function _i(l){let e,n;return e=new En({props:{Icon:Un,label:"Download"}}),{c(){$e(e.$$.fragment)},m(t,i){ye(e,t,i),n=!0},p:an,i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){Ee(e,t)}}}function Qt(l){let e,n;return e=new Pn({props:{i18n:l[7],value:l[0],formatter:l[12]}}),e.$on("error",l[13]),e.$on("share",l[14]),{c(){$e(e.$$.fragment)},m(t,i){ye(e,t,i),n=!0},p(t,i){const o={};i&128&&(o.i18n=t[7]),i&1&&(o.value=t[0]),e.$set(o)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){Ee(e,t)}}}function fi(l){let e,n;return e=new pt({}),{c(){$e(e.$$.fragment)},m(t,i){ye(e,t,i),n=!0},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){Ee(e,t)}}}function ci(l){let e,n,t,i,o,s;e=new Zt({props:{show_label:l[3],Icon:pt,label:l[2]||"Video"}});const a=[ui,ai],r=[];function _(u,f){return u[0]===null||u[0].url===void 0?0:1}return t=_(l),i=r[t]=a[t](l),{c(){$e(e.$$.fragment),n=vt(),i.c(),o=li()},m(u,f){ye(e,u,f),st(u,n,f),r[t].m(u,f),st(u,o,f),s=!0},p(u,[f]){const c={};f&8&&(c.show_label=u[3]),f&4&&(c.label=u[2]||"Video"),e.$set(c);let d=t;t=_(u),t===d?r[t].p(u,f):(tt(),U(r[d],1,1,()=>{r[d]=null}),et(),i=r[t],i?i.p(u,f):(i=r[t]=a[t](u),i.c()),P(i,1),i.m(o.parentNode,o))},i(u){s||(P(e.$$.fragment,u),P(i),s=!0)},o(u){U(e.$$.fragment,u),U(i),s=!1},d(u){u&&(ot(n),ot(o)),Ee(e,u),r[t].d(u)}}}function di(l,e,n){let{value:t=null}=e,{subtitle:i=null}=e,{label:o=void 0}=e,{show_label:s=!0}=e,{autoplay:a}=e,{show_share_button:r=!0}=e,{show_download_button:_=!0}=e,{i18n:u}=e,f=null,c=null;const d=oi();si(async()=>{t!==f&&i!==c&&c!==null&&(f=t,n(0,t=null),await ri(),n(0,t=f)),f=t,c=i});function h(b){Ve.call(this,l,b)}function m(b){Ve.call(this,l,b)}function k(b){Ve.call(this,l,b)}function S(b){Ve.call(this,l,b)}const C=async b=>b?await Bn(b.data,"url"):"";function E(b){Ve.call(this,l,b)}function M(b){Ve.call(this,l,b)}return l.$$set=b=>{"value"in b&&n(0,t=b.value),"subtitle"in b&&n(1,i=b.subtitle),"label"in b&&n(2,o=b.label),"show_label"in b&&n(3,s=b.show_label),"autoplay"in b&&n(4,a=b.autoplay),"show_share_button"in b&&n(5,r=b.show_share_button),"show_download_button"in b&&n(6,_=b.show_download_button),"i18n"in b&&n(7,u=b.i18n)},l.$$.update=()=>{l.$$.dirty&1&&t&&d("change",t)},[t,i,o,s,a,r,_,u,h,m,k,S,C,E,M]}class mi extends ei{constructor(e){super(),ii(this,e,di,ci,un,{value:0,subtitle:1,label:2,show_label:3,autoplay:4,show_share_button:5,show_download_button:6,i18n:7})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),de()}get subtitle(){return this.$$.ctx[1]}set subtitle(e){this.$$set({subtitle:e}),de()}get label(){return this.$$.ctx[2]}set label(e){this.$$set({label:e}),de()}get show_label(){return this.$$.ctx[3]}set show_label(e){this.$$set({show_label:e}),de()}get autoplay(){return this.$$.ctx[4]}set autoplay(e){this.$$set({autoplay:e}),de()}get show_share_button(){return this.$$.ctx[5]}set show_share_button(e){this.$$set({show_share_button:e}),de()}get show_download_button(){return this.$$.ctx[6]}set show_download_button(e){this.$$set({show_download_button:e}),de()}get i18n(){return this.$$.ctx[7]}set i18n(e){this.$$set({i18n:e}),de()}}const hi=mi,{SvelteComponent:gi,assign:_n,check_outros:bi,create_component:ve,destroy_component:pe,detach:yt,empty:wi,flush:q,get_spread_object:fn,get_spread_update:cn,group_outros:vi,init:pi,insert:Tt,mount_component:ke,safe_not_equal:ki,space:dn,transition_in:_e,transition_out:fe}=window.__gradio__svelte__internal;function $i(l){let e,n;return e=new en({props:{visible:l[4],variant:l[0]===null&&l[21]==="upload"?"dashed":"solid",border_mode:l[24]?"focus":"base",padding:!1,elem_id:l[2],elem_classes:l[3],height:l[9],width:l[10],container:l[11],scale:l[12],min_width:l[13],allow_overflow:!1,$$slots:{default:[Ti]},$$scope:{ctx:l}}}),{c(){ve(e.$$.fragment)},m(t,i){ke(e,t,i),n=!0},p(t,i){const o={};i[0]&16&&(o.visible=t[4]),i[0]&2097153&&(o.variant=t[0]===null&&t[21]==="upload"?"dashed":"solid"),i[0]&16777216&&(o.border_mode=t[24]?"focus":"base"),i[0]&4&&(o.elem_id=t[2]),i[0]&8&&(o.elem_classes=t[3]),i[0]&512&&(o.height=t[9]),i[0]&1024&&(o.width=t[10]),i[0]&2048&&(o.container=t[11]),i[0]&4096&&(o.scale=t[12]),i[0]&8192&&(o.min_width=t[13]),i[0]&33243618|i[1]&65536&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(_e(e.$$.fragment,t),n=!0)},o(t){fe(e.$$.fragment,t),n=!1},d(t){pe(e,t)}}}function Ei(l){let e,n;return e=new en({props:{visible:l[4],variant:l[0]===null&&l[21]==="upload"?"dashed":"solid",border_mode:l[24]?"focus":"base",padding:!1,elem_id:l[2],elem_classes:l[3],height:l[9],width:l[10],container:l[11],scale:l[12],min_width:l[13],allow_overflow:!1,$$slots:{default:[Si]},$$scope:{ctx:l}}}),{c(){ve(e.$$.fragment)},m(t,i){ke(e,t,i),n=!0},p(t,i){const o={};i[0]&16&&(o.visible=t[4]),i[0]&2097153&&(o.variant=t[0]===null&&t[21]==="upload"?"dashed":"solid"),i[0]&16777216&&(o.border_mode=t[24]?"focus":"base"),i[0]&4&&(o.elem_id=t[2]),i[0]&8&&(o.elem_classes=t[3]),i[0]&512&&(o.height=t[9]),i[0]&1024&&(o.width=t[10]),i[0]&2048&&(o.container=t[11]),i[0]&4096&&(o.scale=t[12]),i[0]&8192&&(o.min_width=t[13]),i[0]&12828962|i[1]&65536&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(_e(e.$$.fragment,t),n=!0)},o(t){fe(e.$$.fragment,t),n=!1},d(t){pe(e,t)}}}function yi(l){let e,n;return e=new An({props:{i18n:l[17].i18n,type:"video"}}),{c(){ve(e.$$.fragment)},m(t,i){ke(e,t,i),n=!0},p(t,i){const o={};i[0]&131072&&(o.i18n=t[17].i18n),e.$set(o)},i(t){n||(_e(e.$$.fragment,t),n=!0)},o(t){fe(e.$$.fragment,t),n=!1},d(t){pe(e,t)}}}function Ti(l){let e,n,t,i;const o=[{autoscroll:l[17].autoscroll},{i18n:l[17].i18n},l[1]];let s={};for(let a=0;a<o.length;a+=1)s=_n(s,o[a]);return e=new Yt({props:s}),e.$on("clear_status",l[37]),t=new xl({props:{value:l[22],subtitle:l[23],label:l[5],show_label:l[8],show_download_button:l[16],sources:l[6],active_source:l[21],mirror_webcam:l[19],include_audio:l[20],autoplay:l[14],root:l[7],handle_reset_value:l[25],i18n:l[17].i18n,max_file_size:l[17].max_file_size,$$slots:{default:[yi]},$$scope:{ctx:l}}}),t.$on("change",l[26]),t.$on("drag",l[38]),t.$on("error",l[27]),t.$on("clear",l[39]),t.$on("play",l[40]),t.$on("pause",l[41]),t.$on("upload",l[42]),t.$on("stop",l[43]),t.$on("end",l[44]),t.$on("start_recording",l[45]),t.$on("stop_recording",l[46]),{c(){ve(e.$$.fragment),n=dn(),ve(t.$$.fragment)},m(a,r){ke(e,a,r),Tt(a,n,r),ke(t,a,r),i=!0},p(a,r){const _=r[0]&131074?cn(o,[r[0]&131072&&{autoscroll:a[17].autoscroll},r[0]&131072&&{i18n:a[17].i18n},r[0]&2&&fn(a[1])]):{};e.$set(_);const u={};r[0]&4194304&&(u.value=a[22]),r[0]&8388608&&(u.subtitle=a[23]),r[0]&32&&(u.label=a[5]),r[0]&256&&(u.show_label=a[8]),r[0]&65536&&(u.show_download_button=a[16]),r[0]&64&&(u.sources=a[6]),r[0]&2097152&&(u.active_source=a[21]),r[0]&524288&&(u.mirror_webcam=a[19]),r[0]&1048576&&(u.include_audio=a[20]),r[0]&16384&&(u.autoplay=a[14]),r[0]&128&&(u.root=a[7]),r[0]&131072&&(u.i18n=a[17].i18n),r[0]&131072&&(u.max_file_size=a[17].max_file_size),r[0]&131072|r[1]&65536&&(u.$$scope={dirty:r,ctx:a}),t.$set(u)},i(a){i||(_e(e.$$.fragment,a),_e(t.$$.fragment,a),i=!0)},o(a){fe(e.$$.fragment,a),fe(t.$$.fragment,a),i=!1},d(a){a&&yt(n),pe(e,a),pe(t,a)}}}function Si(l){let e,n,t,i;const o=[{autoscroll:l[17].autoscroll},{i18n:l[17].i18n},l[1]];let s={};for(let a=0;a<o.length;a+=1)s=_n(s,o[a]);return e=new Yt({props:s}),e.$on("clear_status",l[30]),t=new hi({props:{value:l[22],subtitle:l[23],label:l[5],show_label:l[8],autoplay:l[14],show_share_button:l[15],show_download_button:l[16],i18n:l[17].i18n}}),t.$on("play",l[31]),t.$on("pause",l[32]),t.$on("stop",l[33]),t.$on("end",l[34]),t.$on("share",l[35]),t.$on("error",l[36]),{c(){ve(e.$$.fragment),n=dn(),ve(t.$$.fragment)},m(a,r){ke(e,a,r),Tt(a,n,r),ke(t,a,r),i=!0},p(a,r){const _=r[0]&131074?cn(o,[r[0]&131072&&{autoscroll:a[17].autoscroll},r[0]&131072&&{i18n:a[17].i18n},r[0]&2&&fn(a[1])]):{};e.$set(_);const u={};r[0]&4194304&&(u.value=a[22]),r[0]&8388608&&(u.subtitle=a[23]),r[0]&32&&(u.label=a[5]),r[0]&256&&(u.show_label=a[8]),r[0]&16384&&(u.autoplay=a[14]),r[0]&32768&&(u.show_share_button=a[15]),r[0]&65536&&(u.show_download_button=a[16]),r[0]&131072&&(u.i18n=a[17].i18n),t.$set(u)},i(a){i||(_e(e.$$.fragment,a),_e(t.$$.fragment,a),i=!0)},o(a){fe(e.$$.fragment,a),fe(t.$$.fragment,a),i=!1},d(a){a&&yt(n),pe(e,a),pe(t,a)}}}function Vi(l){let e,n,t,i;const o=[Ei,$i],s=[];function a(r,_){return r[18]?1:0}return e=a(l),n=s[e]=o[e](l),{c(){n.c(),t=wi()},m(r,_){s[e].m(r,_),Tt(r,t,_),i=!0},p(r,_){let u=e;e=a(r),e===u?s[e].p(r,_):(vi(),fe(s[u],1,1,()=>{s[u]=null}),bi(),n=s[e],n?n.p(r,_):(n=s[e]=o[e](r),n.c()),_e(n,1),n.m(t.parentNode,t))},i(r){i||(_e(n),i=!0)},o(r){fe(n),i=!1},d(r){r&&yt(t),s[e].d(r)}}}function Di(l,e,n){let{elem_id:t=""}=e,{elem_classes:i=[]}=e,{visible:o=!0}=e,{value:s=null}=e,a=null,{label:r}=e,{sources:_}=e,{root:u}=e,{show_label:f}=e,{loading_status:c}=e,{height:d}=e,{width:h}=e,{container:m=!1}=e,{scale:k=null}=e,{min_width:S=void 0}=e,{autoplay:C=!1}=e,{show_share_button:E=!0}=e,{show_download_button:M}=e,{gradio:b}=e,{interactive:g}=e,{mirror_webcam:V}=e,{include_audio:R}=e,y=null,D=null,W,L=s;const z=()=>{L===null||s===L||n(0,s=L)};let Z=!1;function p({detail:v}){v!=null?n(0,s={video:v,subtitles:null}):n(0,s=null)}function J({detail:v}){const[vn,pn]=v.includes("Invalid file type")?["warning","complete"]:["error","error"];n(1,c=c||{}),n(1,c.status=pn,c),n(1,c.message=v,c),b.dispatch(vn,v)}const G=()=>b.dispatch("clear_status",c),ie=()=>b.dispatch("play"),w=()=>b.dispatch("pause"),me=()=>b.dispatch("stop"),je=()=>b.dispatch("end"),oe=({detail:v})=>b.dispatch("share",v),Oe=({detail:v})=>b.dispatch("error",v),B=()=>b.dispatch("clear_status",c),$=({detail:v})=>n(24,Z=v),T=()=>b.dispatch("clear"),K=()=>b.dispatch("play"),Pe=()=>b.dispatch("pause"),mn=()=>b.dispatch("upload"),hn=()=>b.dispatch("stop"),gn=()=>b.dispatch("end"),bn=()=>b.dispatch("start_recording"),wn=()=>b.dispatch("stop_recording");return l.$$set=v=>{"elem_id"in v&&n(2,t=v.elem_id),"elem_classes"in v&&n(3,i=v.elem_classes),"visible"in v&&n(4,o=v.visible),"value"in v&&n(0,s=v.value),"label"in v&&n(5,r=v.label),"sources"in v&&n(6,_=v.sources),"root"in v&&n(7,u=v.root),"show_label"in v&&n(8,f=v.show_label),"loading_status"in v&&n(1,c=v.loading_status),"height"in v&&n(9,d=v.height),"width"in v&&n(10,h=v.width),"container"in v&&n(11,m=v.container),"scale"in v&&n(12,k=v.scale),"min_width"in v&&n(13,S=v.min_width),"autoplay"in v&&n(14,C=v.autoplay),"show_share_button"in v&&n(15,E=v.show_share_button),"show_download_button"in v&&n(16,M=v.show_download_button),"gradio"in v&&n(17,b=v.gradio),"interactive"in v&&n(18,g=v.interactive),"mirror_webcam"in v&&n(19,V=v.mirror_webcam),"include_audio"in v&&n(20,R=v.include_audio)},l.$$.update=()=>{l.$$.dirty[0]&536870913&&s&&L===null&&n(29,L=s),l.$$.dirty[0]&2097216&&_&&!W&&n(21,W=_[0]),l.$$.dirty[0]&1&&(s!=null?(n(22,y=s.video),n(23,D=s.subtitles)):(n(22,y=null),n(23,D=null))),l.$$.dirty[0]&268566529&&JSON.stringify(s)!==JSON.stringify(a)&&(n(28,a=s),b.dispatch("change"))},[s,c,t,i,o,r,_,u,f,d,h,m,k,S,C,E,M,b,g,V,R,W,y,D,Z,z,p,J,a,L,G,ie,w,me,je,oe,Oe,B,$,T,K,Pe,mn,hn,gn,bn,wn]}class qi extends gi{constructor(e){super(),pi(this,e,Di,Vi,ki,{elem_id:2,elem_classes:3,visible:4,value:0,label:5,sources:6,root:7,show_label:8,loading_status:1,height:9,width:10,container:11,scale:12,min_width:13,autoplay:14,show_share_button:15,show_download_button:16,gradio:17,interactive:18,mirror_webcam:19,include_audio:20},null,[-1,-1])}get elem_id(){return this.$$.ctx[2]}set elem_id(e){this.$$set({elem_id:e}),q()}get elem_classes(){return this.$$.ctx[3]}set elem_classes(e){this.$$set({elem_classes:e}),q()}get visible(){return this.$$.ctx[4]}set visible(e){this.$$set({visible:e}),q()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),q()}get label(){return this.$$.ctx[5]}set label(e){this.$$set({label:e}),q()}get sources(){return this.$$.ctx[6]}set sources(e){this.$$set({sources:e}),q()}get root(){return this.$$.ctx[7]}set root(e){this.$$set({root:e}),q()}get show_label(){return this.$$.ctx[8]}set show_label(e){this.$$set({show_label:e}),q()}get loading_status(){return this.$$.ctx[1]}set loading_status(e){this.$$set({loading_status:e}),q()}get height(){return this.$$.ctx[9]}set height(e){this.$$set({height:e}),q()}get width(){return this.$$.ctx[10]}set width(e){this.$$set({width:e}),q()}get container(){return this.$$.ctx[11]}set container(e){this.$$set({container:e}),q()}get scale(){return this.$$.ctx[12]}set scale(e){this.$$set({scale:e}),q()}get min_width(){return this.$$.ctx[13]}set min_width(e){this.$$set({min_width:e}),q()}get autoplay(){return this.$$.ctx[14]}set autoplay(e){this.$$set({autoplay:e}),q()}get show_share_button(){return this.$$.ctx[15]}set show_share_button(e){this.$$set({show_share_button:e}),q()}get show_download_button(){return this.$$.ctx[16]}set show_download_button(e){this.$$set({show_download_button:e}),q()}get gradio(){return this.$$.ctx[17]}set gradio(e){this.$$set({gradio:e}),q()}get interactive(){return this.$$.ctx[18]}set interactive(e){this.$$set({interactive:e}),q()}get mirror_webcam(){return this.$$.ctx[19]}set mirror_webcam(e){this.$$set({mirror_webcam:e}),q()}get include_audio(){return this.$$.ctx[20]}set include_audio(e){this.$$set({include_audio:e}),q()}}const eo=qi;export{oo as BaseExample,xl as BaseInteractiveVideo,tn as BasePlayer,hi as BaseStaticVideo,eo as default,lo as loaded,qn as playable,St as prettyBytes};
//# sourceMappingURL=index-DH64KJzK.js.map
